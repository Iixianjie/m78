{"version":3,"sources":["/Users/lixianjie/project/openSource/m78/packages/verify/src/validator/equality.ts"],"sourcesContent":["import { Meta, NamePath, Validator } from \"../types\";\nimport { stringifyNamePath } from \"@m78/utils\";\n\nexport const equalityValidatorKey = \"verifyEquality\";\n\n/**\n * 必须与给定的name对应的值相等\n * */\nexport const equality = (name: NamePath, tpl?: string) => {\n  const equalityValidator: Validator = ({\n    value,\n    config,\n    getValueByName,\n  }: Meta) => {\n    if (getValueByName(name) !== value)\n      return {\n        errorTemplate: tpl || config.languagePack.equality,\n        interpolateValues: {\n          targetLabel: stringifyNamePath(name),\n        },\n      };\n  };\n\n  equalityValidator.key = equalityValidatorKey;\n\n  return equalityValidator;\n};\n"],"names":["stringifyNamePath","equalityValidatorKey","equality","name","tpl","equalityValidator","value","config","getValueByName","errorTemplate","languagePack","interpolateValues","targetLabel","key"],"mappings":"AACA,SAASA,iBAAiB,QAAQ,YAAY,CAAC;AAE/C,OAAO,IAAMC,oBAAoB,GAAG,gBAAgB,CAAC;AAErD;;GAEG,GACH,OAAO,IAAMC,QAAQ,GAAG,SAACC,IAAc,EAAEC,GAAY,EAAK;IACxD,IAAMC,iBAAiB,GAAc,gBAIzB;YAHVC,KAAK,SAALA,KAAK,EACLC,MAAM,SAANA,MAAM,EACNC,cAAc,SAAdA,cAAc;QAEd,IAAIA,cAAc,CAACL,IAAI,CAAC,KAAKG,KAAK,EAChC,OAAO;YACLG,aAAa,EAAEL,GAAG,IAAIG,MAAM,CAACG,YAAY,CAACR,QAAQ;YAClDS,iBAAiB,EAAE;gBACjBC,WAAW,EAAEZ,iBAAiB,CAACG,IAAI,CAAC;aACrC;SACF,CAAC;IACN,CAAC,AAAC;IAEFE,iBAAiB,CAACQ,GAAG,GAAGZ,oBAAoB,CAAC;IAE7C,OAAOI,iBAAiB,CAAC;AAC3B,CAAC,CAAC"}