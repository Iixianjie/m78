{"version":3,"sources":["/Users/lixianjie/project/openSource/m78/packages/m78/src/transition/types.ts"],"sourcesContent":["/** 基础动画配置 */\nimport { AnyObject } from \"@m78/utils\";\nimport React from \"react\";\nimport { Primitives } from \"@react-spring/web/dist/declarations/src/primitives\";\nimport { ComponentBasePropsWithAny } from \"../common\";\n\n/**\n * 内置动画类型\n * */\nexport enum TransitionType {\n  fade = \"fade\",\n  zoom = \"zoom\",\n  punch = \"punch\",\n  slideLeft = \"slideLeft\",\n  slideRight = \"slideRight\",\n  slideTop = \"slideTop\",\n  slideBottom = \"slideBottom\",\n  bounce = \"bounce\",\n}\n\nexport type TransitionTypeKeys = keyof typeof TransitionType;\n\nexport type TransitionTypeUnion = TransitionType | TransitionTypeKeys;\n\n/**\n * 基础配置\n * */\ninterface Base extends ComponentBasePropsWithAny {\n  /** true | 开关 */\n  open?: boolean;\n  /** true | 初始化时是否触发动画 */\n  appear?: boolean;\n  /**\n   * \"div\" | 包裹元素的tag类型, 你可以理解为Transition就是一个带动画的普通dom节点\n   * - 当为span等内联元素时transform不会生效，需要将其块类型设置为inner-block\n   * */\n  tag?: Primitives;\n  /** 指向根节点的ref, 用于直接操作根节点 */\n  innerRef?: any;\n  /** true | 如果为true，在第一次启用时才真正挂载内容 */\n  mountOnEnter?: boolean;\n  /** false | 在关闭时卸载内容 */\n  unmountOnExit?: boolean;\n  /**\n   * 接收除to、from外的所有react-spring动画配置, 用于对react-spring进行深度定制\n   * - 例如, 你可以用它来更改动画表现、设置事件回调、延迟和循环动画等\n   * */\n  springProps?: any;\n}\n\n/* TransitionBase额外类型 */\nexport interface TransitionBaseProps extends Base {\n  /** 动画的入场状态 */\n  to: AnyObject;\n  /** 动画的离场状态 */\n  from: AnyObject;\n  /** 用于插值动画，在动画属性传递给动画元素前会将即将用于动画的spring styles和当前的toggle状态传入并返回新的动画对象 */\n  interpolater?: (props: any, toggle: boolean) => any;\n  /** true | 执行完离场动画后对元素进行隐藏, 防止离场元素占用布局空间和触发事件 */\n  changeVisible?: boolean;\n  /** 常规内容或接收动画参数返回插值节点的函数 */\n  children?: React.ReactNode | ((springStyle: any) => React.ReactNode);\n}\n\n/* Transition额外类型 */\nexport interface TransitionProps extends Base {\n  /** 动画类型 */\n  type: TransitionTypeUnion;\n  /** true | 默认会为所有类型的动画附加fade动画，使其视觉效果更平滑 */\n  alpha?: boolean;\n}\n\n/** 内置动画配置项 */\ninterface TransitionConfigItem {\n  from: any;\n  to: any;\n  config?: any;\n  // 关闭自动fade\n  skipFade?: boolean;\n  interpolater?: TransitionBaseProps[\"interpolater\"];\n}\n\nexport type _TransitionConfigsType = {\n  [key in TransitionTypeKeys]: TransitionConfigItem;\n};\n"],"names":["React","TransitionType","fade","zoom","punch","slideLeft","slideRight","slideTop","slideBottom","bounce"],"mappings":"AAAA,WAAW,GACX,AACA,OAAOA,KAAK,MAAM,OAAO,CAAC;WAOnB,cASN;UATWC,cAAc;IAAdA,cAAc,CACxBC,MAAI,IAAJA,MAAI;IADMD,cAAc,CAExBE,MAAI,IAAJA,MAAI;IAFMF,cAAc,CAGxBG,OAAK,IAALA,OAAK;IAHKH,cAAc,CAIxBI,WAAS,IAATA,WAAS;IAJCJ,cAAc,CAKxBK,YAAU,IAAVA,YAAU;IALAL,cAAc,CAMxBM,UAAQ,IAARA,UAAQ;IANEN,cAAc,CAOxBO,aAAW,IAAXA,aAAW;IAPDP,cAAc,CAQxBQ,QAAM,IAANA,QAAM;GARIR,cAAc,KAAdA,cAAc"}