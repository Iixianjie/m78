{"version":3,"sources":["/Users/lixianjie/project/openSource/m78/packages/m78/src/transition/transition.tsx"],"sourcesContent":["import React from \"react\";\nimport { config } from \"react-spring\";\nimport { TransitionProps, _TransitionConfigsType } from \"./types\";\nimport { _TransitionBase as TransitionBase } from \"./transition-base\";\n\n/* !这里的类型需要与./type.ts中的TransitionTypes同步 */\nconst transitionConfigs: _TransitionConfigsType = {\n  fade: {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n    config: { ...config.stiff, clamp: true },\n    skipFade: true, // 跳过额外注入的fade动画\n  },\n  zoom: {\n    from: { transform: \"scale3d(0.5, 0.5, 0.5)\" },\n    to: { transform: \"scale3d(1, 1, 1)\" },\n  },\n  punch: {\n    from: { transform: \"scale3d(1.5, 1.5, 1.5)\" },\n    to: { transform: \"scale3d(1, 1, 1)\" },\n  },\n  slideLeft: {\n    from: { transform: \"translate3d(-100%, 0, 0)\" },\n    to: { transform: \"translate3d(0%, 0, 0)\" },\n  },\n  slideRight: {\n    from: { transform: \"translate3d(100%, 0, 0)\" },\n    to: { transform: \"translate3d(0%, 0, 0)\" },\n  },\n  slideTop: {\n    from: { transform: \"translate3d(0, -100%, 0)\" },\n    to: { transform: \"translate3d(0%, 0%, 0)\" },\n  },\n  slideBottom: {\n    from: { transform: \"translate3d(0, 100%, 0)\" },\n    to: { transform: \"translate3d(0, 0%, 0)\" },\n  },\n  bounce: {\n    from: { transform: \"scale3d(0, 0, 0)\" },\n    to: { transform: \"scale3d(1, 1, 1)\" },\n    config: { ...config.wobbly },\n  },\n};\n\nexport const _Transition = ({\n  type,\n  alpha = true,\n  ...props\n}: TransitionProps) => {\n  let {\n    from,\n    to,\n    // eslint-disable-next-line prefer-const\n    interpolater,\n    // eslint-disable-next-line prefer-const\n    skipFade,\n    // eslint-disable-next-line prefer-const\n    config: _config,\n  } = transitionConfigs[type];\n\n  /* skipFade用于内部配置, alpha配置给用户对fade进行开关 */\n  if (alpha && !skipFade) {\n    from = { ...from, ...transitionConfigs.fade.from };\n    to = { ...to, ...transitionConfigs.fade.to };\n  }\n\n  return (\n    /* 原样传入props，config与动画配置中的进行合并 */\n    <TransitionBase\n      {...props}\n      // config={{ ...config, ...props.config }}\n      springProps={{\n        config: _config,\n        ...props.springProps,\n      }}\n      from={from}\n      to={to}\n      interpolater={interpolater}\n    />\n  );\n};\n\n_Transition.displayName = \"Transition\";\n"],"names":["React","config","_TransitionBase","TransitionBase","transitionConfigs","fade","from","opacity","to","stiff","clamp","skipFade","zoom","transform","punch","slideLeft","slideRight","slideTop","slideBottom","bounce","wobbly","_Transition","type","alpha","props","interpolater","_config","springProps","displayName"],"mappings":"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"}