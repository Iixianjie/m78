{"version":3,"sources":["/Users/lixianjie/project/openSource/m78/packages/m78/src/button/utils.ts"],"sourcesContent":["import React from \"react\";\nimport { isArray } from \"@m78/utils\";\n\nconst matchIcon = /.?(Outlined|Filled|TwoTone|Icon)$/;\n\n/* 该函数用于遍历Button的children，当存在Icon和SvgIcon时(通过name非严格匹配)，为其添加适当边距并返回 */\nexport function formatChildren(children: React.ReactNode): any[] {\n  const offset = 4;\n\n  if (isArray(children)) {\n    return children.map((child, index) => {\n      const type = child?.type;\n      let name = \"\";\n\n      if (type) {\n        name = type.render?.displayName || type.render?.name || type.name;\n      }\n\n      /* 为满足matchIcon规则的子元素添加边距 */\n      if (name && React.isValidElement<any>(child) && matchIcon.test(name)) {\n        let injectStyle: React.CSSProperties = {\n          marginLeft: offset,\n          marginRight: offset,\n        };\n        if (index === 0) {\n          injectStyle = { marginRight: offset };\n        }\n\n        if (index === children.length - 1) {\n          injectStyle = { marginLeft: offset };\n        }\n\n        const newStyle = { ...injectStyle, ...child.props?.style };\n\n        return React.cloneElement(child, { style: newStyle });\n      }\n      return child;\n    });\n  }\n\n  return [children];\n}\n"],"names":["React","isArray","matchIcon","formatChildren","children","offset","map","child","index","type","name","render","displayName","isValidElement","test","injectStyle","marginLeft","marginRight","length","newStyle","props","style","cloneElement"],"mappings":"AAAA;AAAA,OAAOA,KAAK,MAAM,OAAO,CAAC;AAC1B,SAASC,OAAO,QAAQ,YAAY,CAAC;AAErC,IAAMC,SAAS,sCAAsC,AAAC;AAEtD,oEAAoE,GACpE,OAAO,SAASC,cAAc,CAACC,QAAyB,EAAS;IAC/D,IAAMC,MAAM,GAAG,CAAC,AAAC;IAEjB,IAAIJ,OAAO,CAACG,QAAQ,CAAC,EAAE;QACrB,OAAOA,QAAQ,CAACE,GAAG,CAAC,SAACC,KAAK,EAAEC,KAAK,EAAK;YACpC,IAAMC,IAAI,GAAGF,KAAK,aAALA,KAAK,WAAM,GAAXA,KAAAA,CAAW,GAAXA,KAAK,CAAEE,IAAI,AAAC;YACzB,IAAIC,IAAI,GAAG,EAAE,AAAC;YAEd,IAAID,IAAI,EAAE;oBACDA,GAAW,EAAiBA,IAAW;gBAA9CC,IAAI,GAAGD,CAAAA,CAAAA,GAAW,GAAXA,IAAI,CAACE,MAAM,cAAXF,GAAW,WAAa,GAAxBA,KAAAA,CAAwB,GAAxBA,GAAW,CAAEG,WAAW,CAAA,IAAIH,CAAAA,CAAAA,IAAW,GAAXA,IAAI,CAACE,MAAM,cAAXF,IAAW,WAAM,GAAjBA,KAAAA,CAAiB,GAAjBA,IAAW,CAAEC,IAAI,CAAA,IAAID,IAAI,CAACC,IAAI,CAAC;YACpE,CAAC;YAED,0BAA0B,GAC1B,IAAIA,IAAI,IAAIV,KAAK,CAACa,cAAc,CAAMN,KAAK,CAAC,IAAIL,SAAS,CAACY,IAAI,CAACJ,IAAI,CAAC,EAAE;oBAa9BH,IAAW;gBAZjD,IAAIQ,WAAW,GAAwB;oBACrCC,UAAU,EAAEX,MAAM;oBAClBY,WAAW,EAAEZ,MAAM;iBACpB,AAAC;gBACF,IAAIG,KAAK,KAAK,CAAC,EAAE;oBACfO,WAAW,GAAG;wBAAEE,WAAW,EAAEZ,MAAM;qBAAE,CAAC;gBACxC,CAAC;gBAED,IAAIG,KAAK,KAAKJ,QAAQ,CAACc,MAAM,GAAG,CAAC,EAAE;oBACjCH,WAAW,GAAG;wBAAEC,UAAU,EAAEX,MAAM;qBAAE,CAAC;gBACvC,CAAC;gBAED,IAAMc,QAAQ,GAAG,mBAAKJ,WAAW,EAAKR,CAAAA,IAAW,GAAXA,KAAK,CAACa,KAAK,cAAXb,IAAW,WAAO,GAAlBA,KAAAA,CAAkB,GAAlBA,IAAW,CAAEc,KAAK,CAAE,AAAC;gBAE3D,OAAOrB,KAAK,CAACsB,YAAY,CAACf,KAAK,EAAE;oBAAEc,KAAK,EAAEF,QAAQ;iBAAE,CAAC,CAAC;YACxD,CAAC;YACD,OAAOZ,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QAACH,QAAQ;KAAC,CAAC;AACpB,CAAC"}